<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="25ac8fee-ca8b-417b-afbd-254ba86c6952" activeEnvironment="Default" name="Demo_SoapUI" resourceRoot="" soapui-version="5.7.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="49d08b3d-6802-4e0d-8af7-c4ca43894515" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://www.metaweather.com" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://www.metaweather.com</con:endpoint></con:endpoints><con:resource name="LocationApi" path="/api/location/search/" id="089b5653-e6a0-43ad-8ee4-ed39d25f251e"><con:settings/><con:parameters><con:parameter><con:name>query</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="GetLocation" id="642c5211-0ef4-40b1-87cd-c8a0bc657f02" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>403</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="GetLocationRequest" id="27288c8e-0f5f-4eae-8b83-bc8e2dffc66c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/search/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>query</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="WeatherApi" path="/api/location/{woeidLocation}" id="ce224864-8afe-4e2f-8322-1877e5f854d6"><con:settings/><con:parameters><con:parameter><con:name>woeidLocation</con:name><con:value/><con:style>TEMPLATE</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="GetWeather" id="0b9b7e22-ea97-4430-8c09-3154d9b2d5b3" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ns="https://www.metaweather.com/api/location/753692/">ns:Response</con:element></con:representation><con:request name="GetWeatherRequest" id="fe0a69f0-8cd0-402b-9e8d-a3b8780bd0a6" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder><con:entry>woeidLocation</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:interface><con:testSuite id="7d299ad0-2efc-4e04-a53b-9d6e31b9fe5e" name="TestSuite1"><con:description>TestSuite generated for REST Service [https://www.metaweather.com]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="735cfcb8-ae01-4f77-8ef7-59e1050445b7" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get max weather" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SearchLocation" id="294ff229-1da0-4786-9969-0005c66f03f7"><con:settings/><con:config service="https://www.metaweather.com" resourcePath="/api/location/search/" methodName="GetLocation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchLocation" id="27288c8e-0f5f-4eae-8b83-bc8e2dffc66c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/search/barcelona</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="eb034515-2588-4730-8fd4-1b89d5cb19c6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="query" value="${#TestCase#city}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>query</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Get woeid" id="f3256c99-7ef0-47e4-a014-21078d7fc1a5"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>woeid</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>SearchLocation</con:sourceStep><con:sourcePath>$[0].woeid</con:sourcePath><con:targetType>woeidLocation</con:targetType><con:targetStep>Extract temp</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Extract temp" id="153dbd6d-ee73-4aa2-8979-f7c46f911534"><con:settings/><con:config service="https://www.metaweather.com" methodName="GetWeather" resourcePath="/api/location/{woeidLocation}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Extract temp" id="4e167894-62dc-48e6-b879-7202ecdd21b7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/753692/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a2e331b4-21bc-41a0-80a2-3a2e6f29df43" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="woeidLocation" value="766273" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract max temp" id="726d3999-99ed-4c8f-b3d9-535d1622a9a9"><con:settings/><con:config><script>import groovy.json.JsonSlurper 

def response = testRunner.testCase.testSteps['Extract temp'].getPropertyValue('response')
def json = (new JsonSlurper()).parseText(response)
def weather = json.consolidated_weather
def maxTemp = -273
def dayMaxTemp
weather.each{
	if (it.max_temp > maxTemp) {
		maxTemp = it.max_temp
		dayMaxTemp = it.applicable_date
	}
}
testRunner.testCase.setPropertyValue('maxTemp', String.valueOf(maxTemp))
testRunner.testCase.setPropertyValue('dayMaxTemp', dayMaxTemp)</script></con:config></con:testStep><con:properties><con:property><con:name>city</con:name><con:value>madrid</con:value></con:property><con:property><con:name>maxTemp</con:name><con:value>32.735</con:value></con:property><con:property><con:name>dayMaxTemp</con:name><con:value>2022-05-20</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:testSuite id="ef174362-3263-45f6-8389-bbcde96433df" name="TestSuite2"><con:description>TestSuite generated for REST Service [https://www.metaweather.com]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="bf4212ad-3694-4148-b037-a26b86b6907e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get max weather" searchProperties="true"><con:settings/><con:testStep type="properties" name="Cities" id="cc203668-c3bd-4216-aa72-3d8cbb551108"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>city1</con:name><con:value>Madrid</con:value></con:property><con:property><con:name>city2</con:name><con:value>Barcelona</con:value></con:property><con:property><con:name>city3</con:name><con:value>London</con:value></con:property><con:property><con:name>city4</con:name><con:value>Paris</con:value></con:property><con:property><con:name>city5</con:name><con:value>Prague</con:value></con:property><con:property><con:name>city6</con:name><con:value>Berlin</con:value></con:property><con:property><con:name>city7</con:name><con:value>Munich</con:value></con:property><con:property><con:name>city8</con:name><con:value>Vienna</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="properties" name="Properties" id="5677d99e-f31e-4923-b8b3-f855b2b27468"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>currentCity</con:name><con:value>Vienna</con:value></con:property><con:property><con:name>currentWoeid</con:name><con:value/></con:property><con:property><con:name>numCity</con:name><con:value>9</con:value></con:property><con:property><con:name>maxTemp</con:name><con:value>32.735</con:value></con:property><con:property><con:name>maxTempCity</con:name><con:value>Madrid</con:value></con:property><con:property><con:name>maxTempDate</con:name><con:value>2022-05-20</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="initVars" id="4aeb5ac1-1ddd-4ffa-95f9-771ebab5720d"><con:settings/><con:config><script>testRunner.testCase.testSteps['Properties'].setPropertyValue('currentCity','')
testRunner.testCase.testSteps['Properties'].setPropertyValue('currentWoeid','')
testRunner.testCase.testSteps['Properties'].setPropertyValue('numCity','1')
testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTemp','-273')
testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTempCity','')
testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTempDate','')</script></con:config></con:testStep><con:testStep type="groovy" name="Set city" id="ddbb8f4c-9bde-4128-9641-195cd521ce8b"><con:settings/><con:config><script>def numCity = Integer.parseInt(testRunner.testCase.testSteps['Properties'].getPropertyValue('numCity'))
def currentCity = testRunner.testCase.testSteps['Cities'].getPropertyValue('city' + numCity)
if (currentCity == null ||currentCity.isEmpty() || currentCity == 'null'){
	testRunner.gotoStepByName('Print result')
} else{
	testRunner.testCase.testSteps['Properties'].setPropertyValue('currentCity', currentCity)
	testRunner.testCase.testSteps['Properties'].setPropertyValue('numCity', String.valueOf(numCity+1))
}
</script></con:config></con:testStep><con:testStep type="restrequest" name="SearchLocation" id="b9032057-bd4c-4e30-a3e7-cc8eae495067"><con:settings/><con:config service="https://www.metaweather.com" resourcePath="/api/location/search/" methodName="GetLocation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchLocation" id="27288c8e-0f5f-4eae-8b83-bc8e2dffc66c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/search/barcelona</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="eb034515-2588-4730-8fd4-1b89d5cb19c6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="query" value="${Properties#currentCity}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>query</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Get woeid" id="ccd0ff33-b929-4e5b-8e27-cfe9ea919cc7"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>woeid</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>SearchLocation</con:sourceStep><con:sourcePath>$[0].woeid</con:sourcePath><con:targetType>woeidLocation</con:targetType><con:targetStep>Extract temp</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Extract temp" id="b5bcd2b8-40d8-4934-81ea-44eeb6394cfc"><con:settings/><con:config service="https://www.metaweather.com" methodName="GetWeather" resourcePath="/api/location/{woeidLocation}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Extract temp" id="4e167894-62dc-48e6-b879-7202ecdd21b7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/753692/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a2e331b4-21bc-41a0-80a2-3a2e6f29df43" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="woeidLocation" value="551801" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract max temp" id="40f1b6c2-e66e-4f37-840e-6534a2a7d325"><con:settings/><con:config><script>import groovy.json.JsonSlurper 

def response = testRunner.testCase.testSteps['Extract temp'].getPropertyValue('response')
def json = (new JsonSlurper()).parseText(response)
def weather = json.consolidated_weather
def maxTemp = Double.parseDouble(testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTemp'))
def changeData = false
weather.each{
	if (it.max_temp > maxTemp) {
		changeData = true
		maxTemp = it.max_temp
		dayMaxTemp = it.applicable_date
	}
}

if (changeData){
testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTemp', String.valueOf(maxTemp))
testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTempDate', dayMaxTemp)
testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTempCity', json.title)	
}</script></con:config></con:testStep><con:testStep type="goto" name="Goto Set city" id="33c40174-38db-4271-8212-5cf2150a1ff3"><con:settings/><con:config xsi:type="con:GotoStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:condition><con:name>Condition 1</con:name><con:type>XPATH</con:type><con:expression>0=0</con:expression><con:targetStep>Set city</con:targetStep></con:condition></con:config></con:testStep><con:testStep type="groovy" name="Print result" id="dddaf3ed-81c3-4896-a9f6-c1f7c1979434"><con:settings/><con:config><script>def maxTemp = Double.parseDouble(testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTemp'))
def maxTempCity = testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTempCity')
def maxTempDate = testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTempDate')

log.info 'Nos vamos de vacaciones a ' + maxTempCity + ' porque hara una temperatura de ' + maxTemp + ' el dia ' + maxTempDate</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="815c1926-b05d-461c-9f90-6348ee870bf9" name="TestSuite3"><con:description>TestSuite generated for REST Service [https://www.metaweather.com]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="56bb34d3-d790-455c-907c-7a0a6239abd7" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Max weather in city" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="SearchLocation" id="4a599f30-f1af-4c30-8ed1-dfc99c87c2cf"><con:settings/><con:config service="https://www.metaweather.com" resourcePath="/api/location/search/" methodName="GetLocation" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="SearchLocation" id="27288c8e-0f5f-4eae-8b83-bc8e2dffc66c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/search/barcelona</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="eb034515-2588-4730-8fd4-1b89d5cb19c6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="query" value="${#TestCase#city}" xmlns="http://eviware.com/soapui/config"/></con:parameters><con:parameterOrder><con:entry>query</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Get woeid" id="e7395285-a3c6-413e-a118-34e57815b287"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>woeid</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>SearchLocation</con:sourceStep><con:sourcePath>$[0].woeid</con:sourcePath><con:targetType>woeidLocation</con:targetType><con:targetStep>Extract temp</con:targetStep><con:targetPath/><con:type>JSONPATH</con:type><con:targetTransferType>JSONPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Extract temp" id="6501ff4f-5933-4189-883a-989aa25a3b75"><con:settings/><con:config service="https://www.metaweather.com" methodName="GetWeather" resourcePath="/api/location/{woeidLocation}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Extract temp" id="4e167894-62dc-48e6-b879-7202ecdd21b7" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>https://www.metaweather.com</con:endpoint><con:request/><con:originalUri>https://www.metaweather.com/api/location/753692/</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a2e331b4-21bc-41a0-80a2-3a2e6f29df43" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="woeidLocation" value="766273" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Extract max temp" id="b9f13265-6804-48b6-ae7b-e8c2f52e1453"><con:settings/><con:config><script>import groovy.json.JsonSlurper 

def response = testRunner.testCase.testSteps['Extract temp'].getPropertyValue('response')
def json = (new JsonSlurper()).parseText(response)
def weather = json.consolidated_weather
def maxTemp = -273
def dayMaxTemp
weather.each{
	if (it.max_temp > maxTemp) {
		maxTemp = it.max_temp
		dayMaxTemp = it.applicable_date
	}
}
testRunner.testCase.setPropertyValue('maxTemp', String.valueOf(maxTemp))
testRunner.testCase.setPropertyValue('dayMaxTemp', dayMaxTemp)</script></con:config></con:testStep><con:properties><con:property><con:name>city</con:name><con:value>madrid</con:value></con:property><con:property><con:name>maxTemp</con:name><con:value>32.735</con:value></con:property><con:property><con:name>dayMaxTemp</con:name><con:value>2022-05-20</con:value></con:property></con:properties></con:testCase><con:testCase id="3c1b31fc-7ba9-4a22-9864-cd7f00f3f5ae" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Iterate cities" searchProperties="true"><con:settings/><con:testStep type="properties" name="Cities" id="a69984f5-651e-47f9-8098-3b1bcda9236f"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>city1</con:name><con:value>Madrid</con:value></con:property><con:property><con:name>city2</con:name><con:value>Barcelona</con:value></con:property><con:property><con:name>city3</con:name><con:value>London</con:value></con:property><con:property><con:name>city4</con:name><con:value>Paris</con:value></con:property><con:property><con:name>city5</con:name><con:value>Prague</con:value></con:property><con:property><con:name>city6</con:name><con:value>Berlin</con:value></con:property><con:property><con:name>city7</con:name><con:value>Munich</con:value></con:property><con:property><con:name>city8</con:name><con:value>Vienna</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="properties" name="Properties" id="e0a55a77-f30a-4f04-8410-3feee01ffde9"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>numCity</con:name><con:value>9</con:value></con:property><con:property><con:name>maxTemp</con:name><con:value>32.735</con:value></con:property><con:property><con:name>maxTempCity</con:name><con:value>Madrid</con:value></con:property><con:property><con:name>maxTempDate</con:name><con:value>2022-05-20</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="groovy" name="initVars" id="2cda6afb-8a07-47df-95c2-dac53294aeab"><con:settings/><con:config><script>testRunner.testCase.testSteps['Properties'].setPropertyValue('numCity', '1')
testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTemp', '-273')</script></con:config></con:testStep><con:testStep type="groovy" name="Set city" id="94ea50c5-a99a-4e0c-adaf-0b989f6c250f"><con:settings/><con:config><script>def numCity = Integer.parseInt(testRunner.testCase.testSteps['Properties'].getPropertyValue('numCity'))
def currentCity = testRunner.testCase.testSteps['Cities'].getPropertyValue('city' + numCity)
if (currentCity == null ||currentCity.isEmpty() || currentCity == 'null'){
	testRunner.gotoStepByName('Print result')
} else{
	testRunner.testCase.testSteps['Get max temp for city'].setPropertyValue('city', currentCity)
	testRunner.testCase.testSteps['Properties'].setPropertyValue('numCity', String.valueOf(numCity+1))
}
</script></con:config></con:testStep><con:testStep type="calltestcase" name="Get max temp for city" id="3fece811-e34e-413e-8643-6da22ebbe344"><con:settings/><con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:targetTestCase>56bb34d3-d790-455c-907c-7a0a6239abd7</con:targetTestCase><con:properties><con:property><con:name>city</con:name><con:value>Vienna</con:value></con:property><con:property><con:name>maxTemp</con:name><con:value>28.59</con:value></con:property><con:property><con:name>dayMaxtemp</con:name><con:value>2022-05-20</con:value></con:property></con:properties><con:returnProperties><con:entry>maxTemp</con:entry><con:entry>dayMaxTemp</con:entry></con:returnProperties><con:runMode>PARALLELL</con:runMode></con:config></con:testStep><con:testStep type="groovy" name="Goto set city" id="6706c46c-1cf7-4adf-90de-0c8274e69dff"><con:settings/><con:config><script>def maxTemp = Double.parseDouble(testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTemp'))
def maxTempCity = testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTempCity')
def maxTempDate = testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTempDate')

def currentMaxTemp = Double.parseDouble(testRunner.testCase.testSteps['Get max temp for city'].getPropertyValue('maxTemp'))
if (currentMaxTemp > maxTemp){
	testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTemp', String.valueOf(currentMaxTemp))
	testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTempCity', testRunner.testCase.testSteps['Get max temp for city'].getPropertyValue('city'))
	testRunner.testCase.testSteps['Properties'].setPropertyValue('maxTempDate', testRunner.testCase.testSteps['Get max temp for city'].getPropertyValue('dayMaxtemp'))
}

testRunner.gotoStepByName('Set city')</script></con:config></con:testStep><con:testStep type="groovy" name="Print result" id="6236676d-e404-480a-ae31-f173d5c5c117"><con:settings/><con:config><script>def maxTemp = Double.parseDouble(testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTemp'))
def maxTempCity = testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTempCity')
def maxTempDate = testRunner.testCase.testSteps['Properties'].getPropertyValue('maxTempDate')

log.info 'Nos vamos de vacaciones a ' + maxTempCity + ' porque hara una temperatura de ' + maxTemp + ' el dia ' + maxTempDate</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>